/*		Copyright (C) 1987,88,89,90,91 by UCAR
 *	University Corporation for Atmospheric Research
 *		   All rights reserved
 *
 * No part of this work covered by the copyrights herein may be reproduced
 * or used in any form or by any means -- graphic, electronic, or mechanical,
 * including photocopying, recording, taping, or information storage and
 * retrieval systems -- without permission of the copyright owner.
 * 
 * This software and any accompanying written materials are provided "as is"
 * without warranty of any kind.  UCAR expressly disclaims all warranties of
 * any kind, either express or implied, including but not limited to the
 * implied warranties of merchantibility and fitness for a particular purpose.
 * UCAR does not indemnify any infringement of copyright, patent, or trademark
 * through use or modification of this software.  UCAR does not provide 
 * maintenance or updates for its software.
 */
MFVERSION="$Id: Imakefile,v 1.4 1993-08-04 17:15:13 granger Exp $"

#define IHaveSubdirs
#define PassCDebugFlags 'CDEBUGFLAGS=$(CDEBUGFLAGS)'

ETC = etc
LIBS = lib ds

/*
 * "lib" and "ds" must come first, in that order.  Thereafter it's
 * alphabetical but really doesn't matter.
 */
SUBDIRS = $(LIBS) datautil dm dsdelete dsdump dsdwidget dsmanage \
	dsrescan $(ETC) EventLogger fccclock gettime gp ingest \
	msg msg_ping mstatus mtap Optimizer pdmon prt_Notify realtime \
	settime Sound timer tweakcolor xhelp zebstop zmon zquery zrun

XCOMM For now, we'll just include everything in the distfiles target.  They
XCOMM don't all have to be compiled, so no big deal sending along a little
XCOMM extra source.  Distribute prt_Notify even though it will never get
XCOMM built, so that we don't forget it somewhere down the road.

DISTFILES = Imakefile
DISTSUBDIRS = lib ds datautil dm dsdelete dsdump dsdwidget dsmanage dsrescan \
	etc EventLogger fccclock gettime gp ingest \
	msg msg_ping mstatus mtap Optimizer pdmon prt_Notify realtime \
	settime Sound timer tweakcolor xhelp zebstop zmon zquery zrun

MakeSubdirs($(SUBDIRS))
DependSubdirs($(SUBDIRS))
InstallLibSubdirs($(SUBDIRS))
DistfilesTarget($(DISTFILES))
DistfilesSubdirs($(DISTSUBDIRS))

TARGET = all

programs:
	$(MAKE) $(MFLAGS) ETC= LIBS= $(TARGET)

libraries:
	$(MAKE) $(MFLAGS) SUBDIRS='$(LIBS)' $(TARGET)
