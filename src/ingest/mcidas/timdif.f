      FUNCTION TIMDIF(IYRDA1,IHMS1,IYRDA2,IHMS2)
C *** McIDAS Revision History ***
C 1 TIMDIF.FOR 23-Mar-90,12:38:46,`SSEC' PC-McIDAS ver 5.00
C 2 TIMDIF.FOR 25-Sep-90,7:28:46,`SMG' First Release into COMmon
C *** McIDAS Revision History ***
C $ TIMDIF(IYRDA1, IHMS1, IYRDA2, IHMS2)  (JI)
C $ TIME DIFFERENCE IN MINUTES
C $ IYRDA1 = (I) INPUT  FIRST YEAR AND JULIAN DAY (YYDDD)
C $ IHMS1 = (I) INPUT  FIRST TIME (HHMMSS)
C $ IYRDA2 = (I) INPUT  SECOND YEAR AND DAY (YYDDD)
C $ IHMS2 = (I) INPUT  SECOND TIME (HHMMSS)
C $$ TIMDIF = TIME
C
C FUNC VAL (REAL*8) IS TIME DIFFERENCE IN MINUTES (POSITIVE IF
C FIRST DAY/TIME IS THE EARLIER OF THE TWO).
C
      DOUBLE PRECISION TIMDIF,D1,D2,T1,T2
      IY1=MOD(IYRDA1/1000,100)
      ID1=MOD(IYRDA1,1000)
      IFAC1=(IY1-1)/4+1
      D1=365*(IY1-1)+IFAC1+ID1-1
      IY2=MOD(IYRDA2/1000,100)
      ID2=MOD(IYRDA2,1000)
      IFAC2=(IY2-1)/4+1
      D2=365*(IY2-1)+IFAC2+ID2-1
      T1=1440.D0*D1+60.D0*FLALO(IHMS1)
      T2=1440.D0*D2+60.D0*FLALO(IHMS2)
      TIMDIF=T2-T1
      RETURN
      END
