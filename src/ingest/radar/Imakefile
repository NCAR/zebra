/*		Copyright (C) 1987,88,89,90,91 by UCAR
 *	University Corporation for Atmospheric Research
 *		   All rights reserved
 *
 * No part of this work covered by the copyrights herein may be reproduced
 * or used in any form or by any means -- graphic, electronic, or mechanical,
 * including photocopying, recording, taping, or information storage and
 * retrieval systems -- without permission of the copyright owner.
 * 
 * This software and any accompanying written materials are provided "as is"
 * without warranty of any kind.  UCAR expressly disclaims all warranties of
 * any kind, either express or implied, including but not limited to the
 * implied warranties of merchantibility and fitness for a particular purpose.
 * UCAR does not indemnify any infringement of copyright, patent, or trademark
 * through use or modification of this software.  UCAR does not provide 
 * maintenance or updates for its software.
 */
MFVERSION="$Id: Imakefile,v 1.16 1996-05-01 20:29:57 granger Exp $"

LIBS = $(DFALIBS) $(ZLIBS) $(XLIBS) $(LIBPCAP)
SYSLIBS = $(LIBMATH) $(LIBTERMCAP) $(LIBREGEXP)

SRCS =  radar_ingest.c adrad_ingest.c adradInput.c Input.c mtape.c \
	Rasterize.c StatusWidget.c XDisplay.c ds_consumer.c adradFieldList.c \
	RadarStatus.c UFIngest.c UFInput.c cp2.c

OBJS =	radar_ingest.o adrad_ingest.o adradInput.o Input.o mtape.o \
	Rasterize.o StatusWidget.o XDisplay.o ds_consumer.o adradFieldList.o \
	RadarStatus.o UFIngest.o UFInput.o cp2.o

HDRS =  Ethernet.h HouseKeeping.h RadarInfo.h Types.h cvrt.h display.h \
	portable.h radar.h radar_ingest.h radinfo.h raw.h sunrise_head.h \
	sunrise_time.h xdr.h

HEADERS = BeamBuffer.h

APPDEFAULTS = radar_ingest.ad adrad_ingest.ad UFIngest.ad RadarStatus.ad

STATES = adrad_ingest.state radar_ingest.state UFIngest.state

PARAMS = cp4.params adrad.params mhr.params nexrad-kmlb.params \
	 cp4.lr.params mhrdisk.p cp4disk.p

DISTFILES = Imakefile $(SRCS) $(HDRS) $(APPDEFAULTS) $(STATES) $(PARAMS)

AllTarget(radar_ingest)
NormalProgramTarget(radar_ingest,radar_ingest.o mtape.o Rasterize.o
	StatusWidget.o Input.o cp2.o PCapInput.o BeamBuffer.o, \
	$(DEPLIBS),$(LIBS),$(SYSLIBS))

NormalProgramTarget(btest, btest.o BeamBuffer.o,$(DEPLIBS),$(LIBS),$(SYSLIBS))

NormalProgramTarget(bdump, bdump.o BeamBuffer.o,$(DEPLIBS),$(LIBS),$(SYSLIBS))

AllTarget(RadarStatus)
NormalProgramTarget(RadarStatus,RadarStatus.o,$(DEPLIBS),$(LIBS),$(SYSLIBS))

AllTarget(adrad_ingest)
NormalProgramTarget(adrad_ingest,adrad_ingest.o Rasterize.o 
	adradInput.o,$(DEPLIBS),$(LIBS),$(SYSLIBS))

CompleteProgramTarget(adradFieldList,
	adradFieldList.o adradInput.o,$(DEPLIBS),$(LIBS),$(SYSLIBS))

AllTarget(UFIngest)
NormalProgramTarget(UFIngest,UFIngest.o Rasterize.o 
	UFInput.o,$(DEPLIBS),$(LIBS),$(SYSLIBS))

AllTarget(ds_consumer)
NormalProgramTarget(ds_consumer,ds_consumer.o,$(DEPLIBS),$(LIBS),$(SYSLIBS))

AllTarget(RGridConsumer)
NormalProgramTarget(RGridConsumer,RGridConsumer.o,$(DEPLIBS),$(LIBS),\
	$(SYSLIBS))

UILoadFileTarget(radar_ingest.lf,radar_ingest.state)

UILoadFileTarget(adrad_ingest.lf,adrad_ingest.state)

UILoadFileTarget(UFIngest.lf,UFIngest.state)

BuildIncludesTop($(HEADERS))
InstallMultipleFlags($(HEADERS),$(INCDIR),$(INSTINCFLAGS))

InstallProgramSetUID(radar_ingest,$(BINDIR))

InstallProgramSetUID(adrad_ingest,$(BINDIR))

InstallProgramSetUID(UFIngest,$(BINDIR))

InstallProgramSetUID(ds_consumer,$(BINDIR))

InstallAppDefaults(radar_ingest)

InstallAppDefaults(adrad_ingest)

InstallAppDefaults(UFIngest)

LintTarget()
DependTarget()

DistfilesTarget($(DISTFILES))

