/*
 * Imakefile for the data store management stuff.
 */
# undef DataDir

TISRCS = TapeIndex.cc
SRCS = dsmanage.cc dsmWindows.cc DataDir.cc Index.cc MainWindow.cc Dialog.cc \
	LoadData.cc StatusWin.cc DLoad.cc Tape.cc TBCleanup.cc $(TISRCS) \
	Examiner.cc

HEADERS = DataDir.h Dialog.h Index.h STable.h StatusWin.h Tape.h ZTime.h \
	fcontainer.h plcontainer.h container.h dsmWindows.h dsmanage.h \
	Exceptions.h dsPlatform.h BoolKludge.h MaybeCString.h

DSMLIBS = $(DSLIBS) $(ZLIBS) $(XLIBS) $(C++LIBS)
TILIBS = $(DFALIBS) $(ZLIBS) $(C++LIBS)
SYSLIBS = $(LIBMATH) $(LIBTERMCAP) $(LIBREGEXP)

OBJS = dsmanage.o dsmWindows.o DataDir.o Index.o MainWindow.o Dialog.o \
	LoadData.o StatusWin.o DLoad.o Tape.o TBCleanup.o
TIOBJS = TapeIndex.o Index.o Tape.o

APPDEFAULTS = dsmanage.ad

DISTFILES = $(SRCS) $(HEADERS) $(APPDEFAULTS) Imakefile

# if defined(SunArchitecture) && !defined(SVR4Architecture)
DEFINES = -DNO_IOCTL_PROTO
# endif

CccProgramTarget (tapeindex,$(TIOBJS),$(DEPLIBS),$(TILIBS),$(SYSLIBS))
CccProgramTarget (dsmanage,$(OBJS),$(DEPLIBS),$(DSMLIBS),$(SYSLIBS))

InstallAppDefaults(dsmanage)

DistfilesTarget($(DISTFILES))

#ifdef notdef
DependTarget()
#endif

XCOMM Dependencies added by hand for now

dsmanage.o: STable.h dsmanage.h DataDir.h fcontainer.h Index.h plcontainer.h
dsmWindows.o: dsmanage.h container.h DataDir.h fcontainer.h dsmWindows.h
DataDir.o: container.h DataDir.h fcontainer.h
Index.o: STable.h Index.h ZTime.h
MainWindow.o: dsmanage.h dsmWindows.h Dialog.h
Dialog.o: dsmanage.h dsmWindows.h Dialog.h
LoadData.o: dsmanage.h DataDir.h
LoadData.o: fcontainer.h STable.h dsmWindows.h Index.h ZTime.h plcontainer.h
StatusWin.o: dsmanage.h dsmWindows.h StatusWin.h
DLoad.o: dsmanage.h Tape.h plcontainer.h
DLoad.o: dsmWindows.h STable.h Index.h StatusWin.h DataDir.h fcontainer.h
TBCleanup.o: dsmanage.h DataDir.h
TBCleanup.o: fcontainer.h STable.h dsmWindows.h Index.h ZTime.h plcontainer.h
TapeIndex.o: dsmanage.h STable.h Index.h Tape.h
Examiner.o: dsmanage.h DataDir.h fcontainer.h dsmWindows.h plcontainer.h
