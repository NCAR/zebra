/*
 * Imakefile for the zeb library.
 */
/*		Copyright (C) 1987,88,89,90,91,92 by UCAR
 *	University Corporation for Atmospheric Research
 *		   All rights reserved
 *
 * No part of this work covered by the copyrights herein may be reproduced
 * or used in any form or by any means -- graphic, electronic, or mechanical,
 * including photocopying, recording, taping, or information storage and
 * retrieval systems -- without permission of the copyright owner.
 * 
 * This software and any accompanying written materials are provided "as is"
 * without warranty of any kind.  UCAR expressly disclaims all warranties of
 * any kind, either express or implied, including but not limited to the
 * implied warranties of merchantibility and fitness for a particular purpose.
 * UCAR does not indemnify any infringement of copyright, patent, or trademark
 * through use or modification of this software.  UCAR does not provide 
 * maintenance or updates for its software.
 */

#if !HasWritev
WRITEVOBJ=writev.o
WRITEVSRC=writev.c
#else
WRITEVOBJ=
WRITEVSRC=
#endif

SRCS = alarmwidget.c barb.c Bitmaps.c cmd_proto.c ConfigVars.c convert.c \
	GraphicsW.c \
	ImageXfr.c LeftRightButtons.c msg_BCast.c msg_lib.c \
	netread.c Parse.c pdlib.c pdaux.c RLEncode.c \
	Sound_lib.c TCvt.c TInterp.c timer_lib.c twidget.c vector.c \
	$(WRITEVSRC)

OBJS = alarmwidget.o barb.o Bitmaps.o cmd_proto.o ConfigVars.o convert.o \
	GraphicsW.o \
	ImageXfr.o LeftRightButtons.o msg_BCast.o msg_lib.o \
	netread.o Parse.o pdlib.o pdaux.o RLEncode.o \
	Sound_lib.o TCvt.o TInterp.o timer_lib.o twidget.o vector.o \
	$(WRITEVOBJ)

HEADERS = bitmaps.h copyright.h defs.h GraphicsW.h GraphicsWP.h message.h \
	pd.h timer.h ImageXfr.h

NormalLibraryTarget (Zeb, $(OBJS))

InstallLibrary (Zeb, $(LIBDIR))

BuildIncludes ($(HEADERS),.,.)

DependTarget()

/*
 * Hard-coded targets for testing library objects
 */
tconvert: tconvert.c convert.o $(DEPLIBS)
	$(RM) $@
	$(CC) -o $@ $(ALLDEFINES) tconvert.c convert.o $(LDOPTIONS) \
	$(LIBZEB) $(LIBRDSS) $(XLIBS) $(LDLIBS) $(SYSLIBS) $(EXTRA_LOAD_FLAGS)

clean::
	$(RM) -f tconvert
